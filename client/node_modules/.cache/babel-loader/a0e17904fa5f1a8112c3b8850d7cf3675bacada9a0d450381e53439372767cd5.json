{"ast":null,"code":"import _slicedToArray from\"C:/Users/adeeb/Desktop/MERN-EXAM/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import axios from'axios';import{useParams,useNavigate,Link}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Update=function Update(props){var _useParams=useParams(),id=_useParams.id;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),type=_useState4[0],setType=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),description=_useState6[0],setDescription=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),skill1=_useState8[0],setSkill1=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),skill2=_useState10[0],setSkill2=_useState10[1];var _useState11=useState(''),_useState12=_slicedToArray(_useState11,2),skill3=_useState12[0],setSkill3=_useState12[1];var _useState13=useState([]),_useState14=_slicedToArray(_useState13,2),errors=_useState14[0],setErrors=_useState14[1];var navigate=useNavigate();useEffect(function(){axios.get('http://localhost:8000/api/pets/'+id).then(function(res){setName(res.data.name);setType(res.data.type);setDescription(res.data.description);setSkill1(res.data.skill1);setSkill2(res.data.skill2);setSkill3(res.data.skill3);});},[]);var updatePet=function updatePet(e){e.preventDefault();axios.patch('http://localhost:8000/api/pets/'+id,{name:name,type:type,description:description,skill1:skill1,skill2:skill2,skill3:skill3}).then(function(res){console.log(res);navigate(\"/\");}).catch(function(err){var errorResponse=err.response.data.errors;// Get the errors from err.response.data\nvar errorArr=[];// Define a temp error array to push the messages in\nfor(var _i=0,_Object$keys=Object.keys(errorResponse);_i<_Object$keys.length;_i++){var key=_Object$keys[_i];// Loop through all errors and get the messages\nerrorArr.push(errorResponse[key].message);}// Set Errors\nsetErrors(errorArr);});};return/*#__PURE__*/_jsxs(\"div\",{className:\"whole\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"top\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Pet Shelter\"}),/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"back to home\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"top\",children:/*#__PURE__*/_jsxs(\"h2\",{children:[\"Edit \",name]})}),/*#__PURE__*/_jsx(\"div\",{className:\"form\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:updatePet,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"outer\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"boxNew\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"leftColNew\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Pet Name:\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{className:\"text\",type:\"text\",onChange:function onChange(e){return setName(e.target.value);},value:name})]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Pet Type:\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{className:\"text\",type:\"text\",onChange:function onChange(e){return setType(e.target.value);},value:type})]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Pet Description:\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{className:\"text\",type:\"text\",onChange:function onChange(e){return setDescription(e.target.value);},value:description})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"rightColNew\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"skill\",children:\"Skills (optional):\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"skill\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Skill 1:\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{className:\"text\",type:\"text\",onChange:function onChange(e){return setSkill1(e.target.value);},value:skill1})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"skill\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Skill 2:\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{className:\"text\",type:\"text\",onChange:function onChange(e){return setSkill2(e.target.value);},value:skill2})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"skill\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Skill 3:\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{className:\"text\",type:\"text\",onChange:function onChange(e){return setSkill3(e.target.value);},value:skill3})]})]})]}),/*#__PURE__*/_jsx(\"input\",{className:\"submit\",type:\"submit\",value:\"\\u2B06\\uFE0F Edit Pet\"})]}),errors.map(function(err,index){return/*#__PURE__*/_jsx(\"p\",{style:{color:'red'},children:err},index);})]})})]});};export default Update;","map":{"version":3,"names":["React","useEffect","useState","axios","useParams","useNavigate","Link","jsx","_jsx","jsxs","_jsxs","Update","props","_useParams","id","_useState","_useState2","_slicedToArray","name","setName","_useState3","_useState4","type","setType","_useState5","_useState6","description","setDescription","_useState7","_useState8","skill1","setSkill1","_useState9","_useState10","skill2","setSkill2","_useState11","_useState12","skill3","setSkill3","_useState13","_useState14","errors","setErrors","navigate","get","then","res","data","updatePet","e","preventDefault","patch","console","log","catch","err","errorResponse","response","errorArr","_i","_Object$keys","Object","keys","length","key","push","message","className","children","to","onSubmit","onChange","target","value","map","index","style","color"],"sources":["C:/Users/adeeb/Desktop/MERN-EXAM/client/src/views/Update.js"],"sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport axios from 'axios';\r\nimport { useParams,useNavigate,Link } from \"react-router-dom\";\r\n    \r\nconst Update = (props) => {\r\n    const { id } = useParams();\r\n    const [name, setName] = useState('');\r\n    const [type, setType] = useState('');\r\n    const [description, setDescription] = useState('');\r\n    const [skill1, setSkill1] = useState('');\r\n    const [skill2, setSkill2] = useState('');\r\n    const [skill3, setSkill3] = useState('');\r\n\r\n    const [errors, setErrors] = useState([]);\r\n    const navigate = useNavigate();\r\n    \r\n    useEffect(() => {\r\n        axios.get('http://localhost:8000/api/pets/' + id)\r\n            .then(res => {\r\n                setName(res.data.name);\r\n                setType(res.data.type);\r\n                setDescription(res.data.description);\r\n                setSkill1(res.data.skill1);\r\n                setSkill2(res.data.skill2);\r\n                setSkill3(res.data.skill3);\r\n                \r\n            })\r\n    }, []);\r\n\r\n    \r\n    const updatePet = e => {\r\n        e.preventDefault();\r\n        axios.patch('http://localhost:8000/api/pets/' + id, {\r\n            name,\r\n            type,\r\n            description,\r\n            skill1,\r\n            skill2,\r\n            skill3\r\n        })\r\n            .then(res => {console.log(res);navigate(\"/\")})\r\n            .catch(err=>{\r\n                const errorResponse = err.response.data.errors; // Get the errors from err.response.data\r\n                    const errorArr = []; // Define a temp error array to push the messages in\r\n                    for (const key of Object.keys(errorResponse)) { // Loop through all errors and get the messages\r\n                        errorArr.push(errorResponse[key].message)\r\n                    }\r\n                    // Set Errors\r\n                    setErrors(errorArr);\r\n            })\r\n    }\r\n    \r\n    \r\n    return (\r\n        <div className=\"whole\">\r\n            <div className=\"top\">\r\n                <h1>Pet Shelter</h1>\r\n                <Link to=\"/\">back to home</Link>\r\n            </div>\r\n            <div className=\"top\">\r\n                <h2>Edit {name}</h2>\r\n            </div>\r\n            <div className=\"form\">\r\n                <form onSubmit={updatePet}>\r\n                    <div className=\"outer\">\r\n                        <div className=\"boxNew\">\r\n                            <div className=\"leftColNew\">\r\n                                <p>\r\n                                    <label>Pet Name:</label><br/>\r\n                                    <input className=\"text\" type=\"text\" onChange={(e)=>setName(e.target.value)} value={name}/>\r\n                                </p>\r\n                                <p>\r\n                                    <label>Pet Type:</label><br/>\r\n                                    <input className=\"text\" type=\"text\" onChange={(e)=>setType(e.target.value)} value={type}/>\r\n                                </p>\r\n                                <p>\r\n                                    <label>Pet Description:</label><br/>\r\n                                    <input className=\"text\" type=\"text\" onChange = {(e)=>setDescription(e.target.value)} value={description}/>\r\n                                </p>\r\n                            </div>\r\n                            <div className=\"rightColNew\">\r\n                                <p className=\"skill\">Skills (optional):</p>\r\n                                <p className=\"skill\">\r\n                                    <label>Skill 1:</label><br/>\r\n                                    <input className=\"text\" type=\"text\" onChange = {(e)=>setSkill1(e.target.value)} value={skill1}/>\r\n                                </p>\r\n                                <p className=\"skill\">\r\n                                    <label>Skill 2:</label><br/>\r\n                                    <input className=\"text\" type=\"text\" onChange = {(e)=>setSkill2(e.target.value)} value={skill2}/>\r\n                                </p>\r\n                                <p className=\"skill\">\r\n                                    <label>Skill 3:</label><br/>\r\n                                    <input className=\"text\" type=\"text\" onChange = {(e)=>setSkill3(e.target.value)} value={skill3}/>\r\n                                </p>\r\n                            </div>\r\n                        </div>\r\n                        <input className = \"submit\" type=\"submit\" value=\"⬆️ Edit Pet\"/>\r\n                    </div>\r\n                    {errors.map((err, index) => <p style = {{color:'red'}}key={index}>{err}</p>)}\r\n                </form>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n    \r\nexport default Update;\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}